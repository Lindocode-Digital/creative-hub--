import{j as n,B as E,z as w,r as i}from"./index-CdCi4CSl.js";import{g as R}from"./index-Brfk6Bdo.js";const S=({project:s,showDetails:o,isActive:l})=>{const c=e=>new URL(e,import.meta.url).href,d=Object.assign({}),u=(s.icons||[]).map(e=>{if(e.startsWith("http://")||e.startsWith("https://"))return e;const r=`/src/${e}`;return d[r]||e}).filter(Boolean);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card-front",children:[n.jsx(E,{style:{display:"flex",flexDirection:"column",justifyContent:"end",alignItems:"center",width:"100%",height:"65%",borderRadius:"8px 8px 0 0",background:`url(${c(s.image)}) no-repeat center center`,backgroundSize:"cover",backgroundPosition:"center",border:"5px solid white",pointerEvents:l?"auto":"none",color:"white"},children:n.jsx(w,{className:"lm-project-title",style:{fontSize:"1.1rem",color:"black",border:"1px solid red",backgroundColor:"white",display:"inline-block",padding:"0.1rem 1rem",borderRadius:"999px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",margin:"5px"},children:s["card-title"]})}),n.jsx(w,{variant:"body0",color:"text.secondary",style:{display:"flex",padding:"1px",marginTop:"auto",textAlign:"center"},children:s.description})," ",n.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"8px",alignSelf:"center",marginTop:"auto",pointerEvents:l?"auto":"none",padding:"20px"},children:[" ",u.map((e,r)=>n.jsx("img",{src:e,alt:`icon-${r}`,style:{width:`${s.iconSizes[r]}px`,height:`${s.iconSizes[r]}px`,margin:"0 4px"}},r))]})]}),n.jsx("div",{className:"card-back"})]})},C=({projects:s,activeIndex:o,setActiveIndex:l,setShowDetails:c})=>{const[d,u]=i.useState(0),[e,r]=i.useState(p()),h=i.useRef(null);function p(){const t=Math.min(window.innerWidth,window.innerHeight);return Math.max(150,Math.min(500,t*(window.innerWidth<600?.3:window.innerWidth<1024?.4:.35)))}i.useEffect(()=>{const t=()=>{r(p()),m()};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i.useEffect(()=>{m()},[o,e,s.length]);const m=()=>{if(!h.current)return;const t=h.current.querySelectorAll(".cards-carousel-item");if(t.length===0)return;const a=360/s.length;t.forEach((f,v)=>{const g=a*v+d,x=Math.PI/180*g,y=e*Math.sin(x),j=e*Math.cos(x);R.to(f,{x:y,z:j,rotateY:g,duration:.5,ease:"power3.inOut"}),f.classList.remove("active")})},b=t=>{l(t);const a=360/s.length;u(-a*t),t===o&&c(!0)};return n.jsx("div",{className:"cards-carousel-container",children:n.jsx("div",{className:"cards-carousel",ref:h,children:s.map((t,a)=>n.jsx("div",{className:"cards-carousel-item",onClick:()=>b(a),children:n.jsx(S,{project:t,showDetails:!1,isActive:!1,setShowDetails:c})},a))})})};export{C as default};
